<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatt's chat room</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            background-color: none;
            border: none;
            outline: none;
        }
    </style>
</head>
<body style="width: 100vw; height: 100vh; overflow: hidden;">
    <div style="display: flex; flex-direction: column; height: 100%; margin-left: 7%; margin-right: 7%;">
        <div style="display: flex; justify-content: center; margin-top: 3%;">
            <h1 style="font-size: 45px; font-family: 'Inter', sans-serif; font-weight: 200;">Chatt's Chat Room</h1>
        </div>
        <div style="display: flex; margin-top: 3%; height: 60%">

        </div>
        <div style="display: flex; margin-top: 2%; height: 5.5%;">
            <div style="display: flex; flex-direction: row; width: 100%; height: 100%; border: 1.5px solid black; border-radius: 45px; align-items: center;">
                <input id="input" type="text" style="display: flex; width: 90%; height: 70%; margin-left: 2%; font-size: 15px; font-family: 'Inter', sans-serif; font-weight: 400;" placeholder="Write something to send..." onkeypress="onkeypress(event)">
                <div style="display: flex; margin-left: auto; margin-right: auto; font-size: 20px; font-family: 'Inter', sans-serif; font-weight: 400; color: #0075FF; cursor: pointer;" onclick="send()">Send</div>
            </div>
        </div>
    </div>

    <script>
        let input = document.getElementById("input");
        let messages = document.getElementById("messages");

        function onkeypress(event)
        {
            if(event.key == "Enter")
            {
                send();
            }
        }

        function send()
        {
            const xHttp = new XMLHttpRequest()
            xHttp.onload = function()
            {

            }

            xHttp.open("POST", "SendMessage.php");
            xHttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xHttp.send("message=" + input.value);
        }

        let reset = setInterval(
            function ()
            {
                const xHttp = new XMLHttpRequest();
                xHttp.onload = function()
                {
                    messages.innerHTML = xHttp.responseText;
                }
                xHttp.open("GET", "GetMessage.php");
                xHttp.send();
            },
            100
        );
    </script>
</body>
</html>